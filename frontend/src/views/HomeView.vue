<template>
  <div class="container-fluid py-3">
    <SafetyMap @risk-clicked="onRiskClick" />
    <div class="mt-3 text-center">
      <button class="btn btn-outline-primary w-75" @click="goEmergency">
        ðŸš¨ ê¸´ê¸‰ì‹ ê³  ë°”ë¡œê°€ê¸°
      </button>
    </div>
  </div>
</template>

<script setup>
import { inject } from 'vue'
import SafetyMap from '@/components/map/SafetyMap.vue'
import { useRouter } from 'vue-router'

const showDepthAlert = inject('showDepthAlert')
const openConfirm = inject('openConfirm')
const router = useRouter()

const onRiskClick = (zone) => {
  showDepthAlert(zone.depth, 1.3) // ì˜ˆì‹œ: ì‚¬ìš©ìžì˜ í‚¤ 1.3m
}

const goEmergency = () => {
  openConfirm('ê¸´ê¸‰ì‹ ê³ ', 'ì •ë§ ê¸´ê¸‰ì‹ ê³  í™”ë©´ìœ¼ë¡œ ì´ë™í•˜ì‹œê² ìŠµë‹ˆê¹Œ?', () => {
    router.push('/emergency')
  })
}
</script>
